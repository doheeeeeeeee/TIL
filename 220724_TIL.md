# 함수

## 함수의 범위(scope)

### global문

- 현재 코드 블록 전체에 적용되고, 나열된 식별자(이름)이 global variable임을 나타낸다.
  
  - global에 나열된 이름은 같은 코드 블록에서 global 앞에 등장할 수 없다.
  
  - global에 나열된 이름은 parameter, for루프 대상, 클래스/함수 정의 등으로 정의되지 않아야 한다.

### nonlocal

- global을 제외하고 가장 가까운 (둘러싸고 있는) scope의 변수를 연결하도록 한다.
  
  - nonlocal에 나열된 이름은 같은 코드 블록에서 nonlocal 앞에 등장할 수 없다.
  
  - nonlocal에 나열된 이름은 parameter, for 루프 대상, 클래스/함수 정의 등으로 정의되지 않아야 한다.

- global과는 달리 이미 존재하는 이름과의 연결만 가능한다.

### 함수의 범위 주의

- 기본적으로 함수에서 선언된 변수는 Local scope에 생성되고, 함수가 종료되면 사라진다.

- 해당 scope에 변수가 없는 경우에는 LEGB rule에 의해 이름을 검색한다.
  
  - 변수에 접근은 가능하지만, 해당 변수를 수정할 수는 없다.
  
  - **단, 함수 내에서 필요한 상위 scope 변수는 argument로 넘겨서 활용한다.**

- 상위 scope에 있는 변수를 수정할고 싶을 때는 global, nonlocal 키워드를 활용할 수 있다.
  
  - 단, 코드가 복잡해지면서 변수의 변경을 추적하기 어렵고, 예기치 못한 오류가 발생할 수 있다.
  
  - 따라서 가급적 사용하지 않을 것을 권장하고, **함수로 값을 바꾸고 싶을 때는 항상 argument로 넘기고 리턴 값을 사용하는 것을 추천한다.**
